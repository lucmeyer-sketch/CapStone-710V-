{"ast":null,"code":"import { supabase } from '../supabaseClient';\nimport { getEstadisticasAsistencia } from './asistenciaService';\n// generar reporte de asistencia\nexport const generarReporteAsistencia = async (fechaInicio, fechaFin, grado, seccion) => {\n  try {\n    // obtener estadísticas generales\n    const stats = await getEstadisticasAsistencia(fechaInicio, fechaFin);\n\n    // obtener asistencias del período\n    let query = supabase.from('asistencia').select(`\n        *,\n        estudiante:Estudiantes (\n          nombre,\n          apellido,\n          grado,\n          seccion\n        )\n      `).gte('fecha', fechaInicio).lte('fecha', fechaFin);\n\n    // filtrar por grado y sección si se especifica\n    if (grado || seccion) {\n      const {\n        data: estudiantes\n      } = await supabase.from('Estudiantes').select('id').eq('grado', grado || '').eq('seccion', seccion || '');\n      if (estudiantes) {\n        const ids = estudiantes.map(e => e.id);\n        query = query.in('estudiante_id', ids);\n      }\n    }\n    const {\n      data: asistencias,\n      error\n    } = await query;\n    if (error) throw error;\n\n    // calcular estadísticas por estudiante\n    const estudiantesStats = new Map();\n    asistencias === null || asistencias === void 0 ? void 0 : asistencias.forEach(asistencia => {\n      const estudianteId = asistencia.estudiante_id;\n      if (!estudiantesStats.has(estudianteId)) {\n        estudiantesStats.set(estudianteId, {\n          estudiante: asistencia.estudiante,\n          presente: 0,\n          ausente: 0,\n          tarde: 0,\n          justificado: 0,\n          total: 0\n        });\n      }\n      const studentStats = estudiantesStats.get(estudianteId);\n      studentStats[asistencia.estado]++;\n      studentStats.total++;\n    });\n    return {\n      periodo: {\n        fechaInicio,\n        fechaFin\n      },\n      filtros: {\n        grado,\n        seccion\n      },\n      estadisticasGenerales: stats,\n      porEstudiante: Array.from(estudiantesStats.values()),\n      totalRegistros: (asistencias === null || asistencias === void 0 ? void 0 : asistencias.length) || 0\n    };\n  } catch (error) {\n    console.error('Error generando reporte de asistencia:', error);\n    throw error;\n  }\n};\n\n// generar reporte académico\nexport const generarReporteAcademico = async (grado, seccion) => {\n  try {\n    // obtener estudiantes\n    let query = supabase.from('Estudiantes').select('*');\n    if (grado) query = query.eq('grado', grado);\n    if (seccion) query = query.eq('seccion', seccion);\n    const {\n      data: estudiantes,\n      error: estudiantesError\n    } = await query;\n    if (estudiantesError) throw estudiantesError;\n\n    // obtener calificaciones para cada estudiante\n    const estudiantesConNotas = await Promise.all((estudiantes || []).map(async estudiante => {\n      const {\n        data: calificaciones\n      } = await supabase.from('calificaciones').select(`\n            *,\n            clase:clases (\n              materia:materias (\n                nombre,\n                codigo\n              )\n            )\n          `).eq('estudiante_id', estudiante.id);\n\n      // calcular promedio general\n      const promedio = calificaciones && calificaciones.length > 0 ? (calificaciones.reduce((sum, cal) => sum + cal.nota, 0) / calificaciones.length).toFixed(1) : 0;\n\n      // calcular promedios por materia\n      const promediosPorMateria = new Map();\n      calificaciones === null || calificaciones === void 0 ? void 0 : calificaciones.forEach(cal => {\n        var _cal$clase, _cal$clase$materia;\n        const materiaNombre = ((_cal$clase = cal.clase) === null || _cal$clase === void 0 ? void 0 : (_cal$clase$materia = _cal$clase.materia) === null || _cal$clase$materia === void 0 ? void 0 : _cal$clase$materia.nombre) || 'Sin materia';\n        if (!promediosPorMateria.has(materiaNombre)) {\n          promediosPorMateria.set(materiaNombre, {\n            suma: 0,\n            count: 0\n          });\n        }\n        const materia = promediosPorMateria.get(materiaNombre);\n        materia.suma += cal.nota;\n        materia.count++;\n      });\n      const materias = Array.from(promediosPorMateria.entries()).map(([nombre, data]) => ({\n        materia: nombre,\n        promedio: (data.suma / data.count).toFixed(1),\n        evaluaciones: data.count\n      }));\n      return {\n        estudiante: {\n          nombre: estudiante.nombre,\n          apellido: estudiante.apellido,\n          grado: estudiante.grado,\n          seccion: estudiante.seccion\n        },\n        promedioGeneral: promedio,\n        totalEvaluaciones: (calificaciones === null || calificaciones === void 0 ? void 0 : calificaciones.length) || 0,\n        materias\n      };\n    }));\n\n    // calcular estadísticas generales\n    const promediosCurso = estudiantesConNotas.map(e => parseFloat(e.promedioGeneral));\n    const promedioGeneralCurso = promediosCurso.length > 0 ? (promediosCurso.reduce((sum, p) => sum + p, 0) / promediosCurso.length).toFixed(1) : 0;\n    return {\n      filtros: {\n        grado,\n        seccion\n      },\n      estadisticasGenerales: {\n        totalEstudiantes: (estudiantes === null || estudiantes === void 0 ? void 0 : estudiantes.length) || 0,\n        promedioGeneralCurso,\n        promedioMasAlto: Math.max(...promediosCurso, 0).toFixed(1),\n        promedioMasBajo: Math.min(...promediosCurso, 7.0).toFixed(1)\n      },\n      estudiantes: estudiantesConNotas\n    };\n  } catch (error) {\n    console.error('Error generando reporte académico:', error);\n    throw error;\n  }\n};\n\n// obtener lista de reportes guardados (simulado por ahora)\nexport const obtenerReportesGuardados = async () => {\n  // por ahora retornamos reportes de ejemplo\n  // en el futuro podrías guardar los reportes en la tabla 'reportes' de la BD\n  return [{\n    id: 1,\n    titulo: 'Reporte de Asistencia - Último Mes',\n    tipo: 'asistencia',\n    fecha_generacion: new Date().toISOString(),\n    periodo: 'Noviembre 2024',\n    datos: {}\n  }, {\n    id: 2,\n    titulo: 'Reporte Académico - 10° A',\n    tipo: 'academico',\n    fecha_generacion: new Date().toISOString(),\n    periodo: '2024',\n    grado: '10°',\n    seccion: 'A',\n    datos: {}\n  }];\n};\n\n// guardar reporte en la base de datos\nexport const guardarReporte = async (titulo, tipo, periodo, contenido) => {\n  const {\n    error\n  } = await supabase.from('reportes').insert({\n    titulo,\n    tipo_reporte: tipo,\n    periodo,\n    contenido: JSON.stringify(contenido),\n    generado_por_tipo: 'sistema'\n  });\n  if (error) throw error;\n};","map":{"version":3,"names":["supabase","getEstadisticasAsistencia","generarReporteAsistencia","fechaInicio","fechaFin","grado","seccion","stats","query","from","select","gte","lte","data","estudiantes","eq","ids","map","e","id","in","asistencias","error","estudiantesStats","Map","forEach","asistencia","estudianteId","estudiante_id","has","set","estudiante","presente","ausente","tarde","justificado","total","studentStats","get","estado","periodo","filtros","estadisticasGenerales","porEstudiante","Array","values","totalRegistros","length","console","generarReporteAcademico","estudiantesError","estudiantesConNotas","Promise","all","calificaciones","promedio","reduce","sum","cal","nota","toFixed","promediosPorMateria","_cal$clase","_cal$clase$materia","materiaNombre","clase","materia","nombre","suma","count","materias","entries","evaluaciones","apellido","promedioGeneral","totalEvaluaciones","promediosCurso","parseFloat","promedioGeneralCurso","p","totalEstudiantes","promedioMasAlto","Math","max","promedioMasBajo","min","obtenerReportesGuardados","titulo","tipo","fecha_generacion","Date","toISOString","datos","guardarReporte","contenido","insert","tipo_reporte","JSON","stringify","generado_por_tipo"],"sources":["C:/Users/diego/OneDrive/Escritorio/ProyectoAPT/CapStone-710V-/src/services/reporteService.ts"],"sourcesContent":["import { supabase } from '../supabaseClient';\r\nimport { getEstadisticasAsistencia } from './asistenciaService';\r\nimport { getPromedioGeneralEstudiante } from './calificacionService';\r\n\r\nexport interface ReporteGenerado {\r\n  id: number;\r\n  titulo: string;\r\n  tipo: 'asistencia' | 'academico' | 'conductual' | 'general';\r\n  fecha_generacion: string;\r\n  periodo: string;\r\n  grado?: string;\r\n  seccion?: string;\r\n  datos: any;\r\n}\r\n\r\n// generar reporte de asistencia\r\nexport const generarReporteAsistencia = async (\r\n  fechaInicio: string,\r\n  fechaFin: string,\r\n  grado?: string,\r\n  seccion?: string\r\n): Promise<any> => {\r\n  try {\r\n    // obtener estadísticas generales\r\n    const stats = await getEstadisticasAsistencia(fechaInicio, fechaFin);\r\n\r\n    // obtener asistencias del período\r\n    let query = supabase\r\n      .from('asistencia')\r\n      .select(`\r\n        *,\r\n        estudiante:Estudiantes (\r\n          nombre,\r\n          apellido,\r\n          grado,\r\n          seccion\r\n        )\r\n      `)\r\n      .gte('fecha', fechaInicio)\r\n      .lte('fecha', fechaFin);\r\n\r\n    // filtrar por grado y sección si se especifica\r\n    if (grado || seccion) {\r\n      const { data: estudiantes } = await supabase\r\n        .from('Estudiantes')\r\n        .select('id')\r\n        .eq('grado', grado || '')\r\n        .eq('seccion', seccion || '');\r\n      \r\n      if (estudiantes) {\r\n        const ids = estudiantes.map(e => e.id);\r\n        query = query.in('estudiante_id', ids);\r\n      }\r\n    }\r\n\r\n    const { data: asistencias, error } = await query;\r\n    if (error) throw error;\r\n\r\n    // calcular estadísticas por estudiante\r\n    const estudiantesStats = new Map();\r\n    asistencias?.forEach(asistencia => {\r\n      const estudianteId = asistencia.estudiante_id;\r\n      if (!estudiantesStats.has(estudianteId)) {\r\n        estudiantesStats.set(estudianteId, {\r\n          estudiante: asistencia.estudiante,\r\n          presente: 0,\r\n          ausente: 0,\r\n          tarde: 0,\r\n          justificado: 0,\r\n          total: 0\r\n        });\r\n      }\r\n      const studentStats = estudiantesStats.get(estudianteId);\r\n      studentStats[asistencia.estado]++;\r\n      studentStats.total++;\r\n    });\r\n\r\n    return {\r\n      periodo: { fechaInicio, fechaFin },\r\n      filtros: { grado, seccion },\r\n      estadisticasGenerales: stats,\r\n      porEstudiante: Array.from(estudiantesStats.values()),\r\n      totalRegistros: asistencias?.length || 0\r\n    };\r\n  } catch (error) {\r\n    console.error('Error generando reporte de asistencia:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// generar reporte académico\r\nexport const generarReporteAcademico = async (\r\n  grado?: string,\r\n  seccion?: string\r\n): Promise<any> => {\r\n  try {\r\n    // obtener estudiantes\r\n    let query = supabase.from('Estudiantes').select('*');\r\n    \r\n    if (grado) query = query.eq('grado', grado);\r\n    if (seccion) query = query.eq('seccion', seccion);\r\n\r\n    const { data: estudiantes, error: estudiantesError } = await query;\r\n    if (estudiantesError) throw estudiantesError;\r\n\r\n    // obtener calificaciones para cada estudiante\r\n    const estudiantesConNotas = await Promise.all(\r\n      (estudiantes || []).map(async (estudiante) => {\r\n        const { data: calificaciones } = await supabase\r\n          .from('calificaciones')\r\n          .select(`\r\n            *,\r\n            clase:clases (\r\n              materia:materias (\r\n                nombre,\r\n                codigo\r\n              )\r\n            )\r\n          `)\r\n          .eq('estudiante_id', estudiante.id);\r\n\r\n        // calcular promedio general\r\n        const promedio = calificaciones && calificaciones.length > 0\r\n          ? (calificaciones.reduce((sum, cal) => sum + cal.nota, 0) / calificaciones.length).toFixed(1)\r\n          : 0;\r\n\r\n        // calcular promedios por materia\r\n        const promediosPorMateria = new Map();\r\n        calificaciones?.forEach(cal => {\r\n          const materiaNombre = cal.clase?.materia?.nombre || 'Sin materia';\r\n          if (!promediosPorMateria.has(materiaNombre)) {\r\n            promediosPorMateria.set(materiaNombre, { suma: 0, count: 0 });\r\n          }\r\n          const materia = promediosPorMateria.get(materiaNombre);\r\n          materia.suma += cal.nota;\r\n          materia.count++;\r\n        });\r\n\r\n        const materias = Array.from(promediosPorMateria.entries()).map(([nombre, data]) => ({\r\n          materia: nombre,\r\n          promedio: (data.suma / data.count).toFixed(1),\r\n          evaluaciones: data.count\r\n        }));\r\n\r\n        return {\r\n          estudiante: {\r\n            nombre: estudiante.nombre,\r\n            apellido: estudiante.apellido,\r\n            grado: estudiante.grado,\r\n            seccion: estudiante.seccion\r\n          },\r\n          promedioGeneral: promedio,\r\n          totalEvaluaciones: calificaciones?.length || 0,\r\n          materias\r\n        };\r\n      })\r\n    );\r\n\r\n    // calcular estadísticas generales\r\n    const promediosCurso = estudiantesConNotas.map(e => parseFloat(e.promedioGeneral as string));\r\n    const promedioGeneralCurso = promediosCurso.length > 0\r\n      ? (promediosCurso.reduce((sum, p) => sum + p, 0) / promediosCurso.length).toFixed(1)\r\n      : 0;\r\n\r\n    return {\r\n      filtros: { grado, seccion },\r\n      estadisticasGenerales: {\r\n        totalEstudiantes: estudiantes?.length || 0,\r\n        promedioGeneralCurso,\r\n        promedioMasAlto: Math.max(...promediosCurso, 0).toFixed(1),\r\n        promedioMasBajo: Math.min(...promediosCurso, 7.0).toFixed(1)\r\n      },\r\n      estudiantes: estudiantesConNotas\r\n    };\r\n  } catch (error) {\r\n    console.error('Error generando reporte académico:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// obtener lista de reportes guardados (simulado por ahora)\r\nexport const obtenerReportesGuardados = async (): Promise<ReporteGenerado[]> => {\r\n  // por ahora retornamos reportes de ejemplo\r\n  // en el futuro podrías guardar los reportes en la tabla 'reportes' de la BD\r\n  return [\r\n    {\r\n      id: 1,\r\n      titulo: 'Reporte de Asistencia - Último Mes',\r\n      tipo: 'asistencia',\r\n      fecha_generacion: new Date().toISOString(),\r\n      periodo: 'Noviembre 2024',\r\n      datos: {}\r\n    },\r\n    {\r\n      id: 2,\r\n      titulo: 'Reporte Académico - 10° A',\r\n      tipo: 'academico',\r\n      fecha_generacion: new Date().toISOString(),\r\n      periodo: '2024',\r\n      grado: '10°',\r\n      seccion: 'A',\r\n      datos: {}\r\n    }\r\n  ];\r\n};\r\n\r\n// guardar reporte en la base de datos\r\nexport const guardarReporte = async (\r\n  titulo: string,\r\n  tipo: 'asistencia' | 'academico' | 'conductual' | 'general',\r\n  periodo: string,\r\n  contenido: any\r\n): Promise<void> => {\r\n  const { error } = await supabase\r\n    .from('reportes')\r\n    .insert({\r\n      titulo,\r\n      tipo_reporte: tipo,\r\n      periodo,\r\n      contenido: JSON.stringify(contenido),\r\n      generado_por_tipo: 'sistema'\r\n    });\r\n\r\n  if (error) throw error;\r\n};\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}