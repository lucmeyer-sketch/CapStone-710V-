{"ast":null,"code":"// utilidades para parsear y trabajar con horarios\n\n// mapeo de días en español a números de día de la semana (0 = domingo, 1 = lunes, etc.)\nconst diasSemanaMap = {\n  'domingo': 0,\n  'lunes': 1,\n  'martes': 2,\n  'miércoles': 3,\n  'miercoles': 3,\n  // sin tilde\n  'jueves': 4,\n  'viernes': 5,\n  'sábado': 6,\n  'sabado': 6 // sin tilde\n};\n\n// parsear string de horario a array de días con horarios\n// formato: \"Lunes 8:00-9:30, Miércoles 8:00-9:40\"\nexport const parsearHorario = horario => {\n  if (!horario || !horario.trim()) return [];\n  const dias = [];\n\n  // separar por comas\n  const partes = horario.split(',').map(p => p.trim());\n  for (const parte of partes) {\n    // buscar patrón: \"Día HH:MM-HH:MM\" (permitir acentos en el día)\n    const match = parte.match(/^([a-zA-ZáéíóúÁÉÍÓÚñÑ]+)\\s+(\\d{1,2}:\\d{2})-(\\d{1,2}:\\d{2})$/i);\n    if (match) {\n      const [, diaStr, horaInicio, horaFin] = match;\n      // normalizar día: convertir a minúsculas y manejar acentos\n      const diaNormalizado = diaStr.toLowerCase().normalize('NFD').replace(/[\\u0300-\\u036f]/g, ''); // quitar acentos para comparación\n      const diaOriginal = diaStr.toLowerCase();\n\n      // buscar en el mapa (con y sin acentos)\n      const diaKey = Object.keys(diasSemanaMap).find(key => key.toLowerCase().normalize('NFD').replace(/[\\u0300-\\u036f]/g, '') === diaNormalizado);\n      if (diaKey !== undefined) {\n        // mantener el formato original del día con mayúscula inicial\n        const diaFormateado = diaStr.charAt(0).toUpperCase() + diaStr.slice(1).toLowerCase();\n        dias.push({\n          dia: diaFormateado,\n          horaInicio,\n          horaFin\n        });\n      }\n    }\n  }\n  return dias;\n};\n\n// obtener número de día de la semana desde nombre en español\nexport const obtenerNumeroDia = diaNombre => {\n  var _diasSemanaMap$dia;\n  const dia = diaNombre.toLowerCase();\n  return (_diasSemanaMap$dia = diasSemanaMap[dia]) !== null && _diasSemanaMap$dia !== void 0 ? _diasSemanaMap$dia : null;\n};\n\n// verificar si una clase tiene clases en un día específico\nexport const tieneClaseEnDia = (horario, diaNumero) => {\n  if (!horario || diaNumero === undefined) return false;\n  const dias = parsearHorario(horario);\n  if (dias.length === 0) return false;\n\n  // obtener nombre del día desde el número\n  const nombreDia = Object.keys(diasSemanaMap).find(key => diasSemanaMap[key] === diaNumero);\n  if (!nombreDia) return false;\n\n  // verificar si alguno de los días parseados coincide\n  return dias.some(d => d.dia.toLowerCase() === nombreDia || d.dia.toLowerCase().replace('á', 'a').replace('é', 'e') === nombreDia);\n};\n\n// obtener días de la semana en que tiene clases\nexport const obtenerDiasConClases = horario => {\n  if (!horario) return [];\n  const dias = parsearHorario(horario);\n  return dias.map(d => obtenerNumeroDia(d.dia)).filter(num => num !== null);\n};\n\n// verificar si tiene clases hoy\nexport const tieneClaseHoy = horario => {\n  const hoy = new Date().getDay();\n  return tieneClaseEnDia(horario, hoy);\n};\n\n// formatear horario para mostrar\nexport const formatearHorario = horario => {\n  if (!horario) return 'Por definir';\n  const dias = parsearHorario(horario);\n  if (dias.length === 0) return horario; // retornar original si no se pudo parsear\n\n  return dias.map(d => `${d.dia} ${d.horaInicio}-${d.horaFin}`).join(', ');\n};\n\n// obtener nombre del día en español desde número\nexport const obtenerNombreDia = diaNumero => {\n  const nombres = {\n    0: 'Domingo',\n    1: 'Lunes',\n    2: 'Martes',\n    3: 'Miércoles',\n    4: 'Jueves',\n    5: 'Viernes',\n    6: 'Sábado'\n  };\n  return nombres[diaNumero] || '';\n};","map":{"version":3,"names":["diasSemanaMap","parsearHorario","horario","trim","dias","partes","split","map","p","parte","match","diaStr","horaInicio","horaFin","diaNormalizado","toLowerCase","normalize","replace","diaOriginal","diaKey","Object","keys","find","key","undefined","diaFormateado","charAt","toUpperCase","slice","push","dia","obtenerNumeroDia","diaNombre","_diasSemanaMap$dia","tieneClaseEnDia","diaNumero","length","nombreDia","some","d","obtenerDiasConClases","filter","num","tieneClaseHoy","hoy","Date","getDay","formatearHorario","join","obtenerNombreDia","nombres"],"sources":["C:/Users/diego/OneDrive/Escritorio/ProyectoAPT/CapStone-710V-/Proyecto/src/utils/horarioUtils.ts"],"sourcesContent":["// utilidades para parsear y trabajar con horarios\r\n\r\nexport interface DiaHorario {\r\n  dia: string; // nombre del día en español\r\n  horaInicio: string;\r\n  horaFin: string;\r\n}\r\n\r\n// mapeo de días en español a números de día de la semana (0 = domingo, 1 = lunes, etc.)\r\nconst diasSemanaMap: Record<string, number> = {\r\n  'domingo': 0,\r\n  'lunes': 1,\r\n  'martes': 2,\r\n  'miércoles': 3,\r\n  'miercoles': 3, // sin tilde\r\n  'jueves': 4,\r\n  'viernes': 5,\r\n  'sábado': 6,\r\n  'sabado': 6 // sin tilde\r\n};\r\n\r\n// parsear string de horario a array de días con horarios\r\n// formato: \"Lunes 8:00-9:30, Miércoles 8:00-9:40\"\r\nexport const parsearHorario = (horario?: string | null): DiaHorario[] => {\r\n  if (!horario || !horario.trim()) return [];\r\n\r\n  const dias: DiaHorario[] = [];\r\n  \r\n  // separar por comas\r\n  const partes = horario.split(',').map(p => p.trim());\r\n  \r\n  for (const parte of partes) {\r\n    // buscar patrón: \"Día HH:MM-HH:MM\" (permitir acentos en el día)\r\n    const match = parte.match(/^([a-zA-ZáéíóúÁÉÍÓÚñÑ]+)\\s+(\\d{1,2}:\\d{2})-(\\d{1,2}:\\d{2})$/i);\r\n    \r\n    if (match) {\r\n      const [, diaStr, horaInicio, horaFin] = match;\r\n      // normalizar día: convertir a minúsculas y manejar acentos\r\n      const diaNormalizado = diaStr.toLowerCase()\r\n        .normalize('NFD')\r\n        .replace(/[\\u0300-\\u036f]/g, ''); // quitar acentos para comparación\r\n      const diaOriginal = diaStr.toLowerCase();\r\n      \r\n      // buscar en el mapa (con y sin acentos)\r\n      const diaKey = Object.keys(diasSemanaMap).find(\r\n        key => key.toLowerCase().normalize('NFD').replace(/[\\u0300-\\u036f]/g, '') === diaNormalizado\r\n      );\r\n      \r\n      if (diaKey !== undefined) {\r\n        // mantener el formato original del día con mayúscula inicial\r\n        const diaFormateado = diaStr.charAt(0).toUpperCase() + diaStr.slice(1).toLowerCase();\r\n        dias.push({\r\n          dia: diaFormateado,\r\n          horaInicio,\r\n          horaFin\r\n        });\r\n      }\r\n    }\r\n  }\r\n  \r\n  return dias;\r\n};\r\n\r\n// obtener número de día de la semana desde nombre en español\r\nexport const obtenerNumeroDia = (diaNombre: string): number | null => {\r\n  const dia = diaNombre.toLowerCase();\r\n  return diasSemanaMap[dia] ?? null;\r\n};\r\n\r\n// verificar si una clase tiene clases en un día específico\r\nexport const tieneClaseEnDia = (horario?: string | null, diaNumero?: number): boolean => {\r\n  if (!horario || diaNumero === undefined) return false;\r\n  \r\n  const dias = parsearHorario(horario);\r\n  if (dias.length === 0) return false;\r\n  \r\n  // obtener nombre del día desde el número\r\n  const nombreDia = Object.keys(diasSemanaMap).find(\r\n    key => diasSemanaMap[key] === diaNumero\r\n  );\r\n  \r\n  if (!nombreDia) return false;\r\n  \r\n  // verificar si alguno de los días parseados coincide\r\n  return dias.some(d => \r\n    d.dia.toLowerCase() === nombreDia || \r\n    d.dia.toLowerCase().replace('á', 'a').replace('é', 'e') === nombreDia\r\n  );\r\n};\r\n\r\n// obtener días de la semana en que tiene clases\r\nexport const obtenerDiasConClases = (horario?: string | null): number[] => {\r\n  if (!horario) return [];\r\n  \r\n  const dias = parsearHorario(horario);\r\n  return dias\r\n    .map(d => obtenerNumeroDia(d.dia))\r\n    .filter((num): num is number => num !== null);\r\n};\r\n\r\n// verificar si tiene clases hoy\r\nexport const tieneClaseHoy = (horario?: string | null): boolean => {\r\n  const hoy = new Date().getDay();\r\n  return tieneClaseEnDia(horario, hoy);\r\n};\r\n\r\n// formatear horario para mostrar\r\nexport const formatearHorario = (horario?: string | null): string => {\r\n  if (!horario) return 'Por definir';\r\n  \r\n  const dias = parsearHorario(horario);\r\n  if (dias.length === 0) return horario; // retornar original si no se pudo parsear\r\n  \r\n  return dias\r\n    .map(d => `${d.dia} ${d.horaInicio}-${d.horaFin}`)\r\n    .join(', ');\r\n};\r\n\r\n// obtener nombre del día en español desde número\r\nexport const obtenerNombreDia = (diaNumero: number): string => {\r\n  const nombres: Record<number, string> = {\r\n    0: 'Domingo',\r\n    1: 'Lunes',\r\n    2: 'Martes',\r\n    3: 'Miércoles',\r\n    4: 'Jueves',\r\n    5: 'Viernes',\r\n    6: 'Sábado'\r\n  };\r\n  return nombres[diaNumero] || '';\r\n};\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}