{"ast":null,"code":"// utilidades para parsear y trabajar con horarios\n\n// mapeo de días en español a números de día de la semana (0 = domingo, 1 = lunes, etc.)\nconst diasSemanaMap = {\n  'domingo': 0,\n  'lunes': 1,\n  'martes': 2,\n  'miércoles': 3,\n  'miercoles': 3,\n  // sin tilde\n  'jueves': 4,\n  'viernes': 5,\n  'sábado': 6,\n  'sabado': 6 // sin tilde\n};\n\n// parsear string de horario a array de días con horarios\n// formato: \"Lunes 8:00-9:30, Miércoles 8:00-9:40\"\nexport const parsearHorario = horario => {\n  if (!horario || !horario.trim()) return [];\n  const dias = [];\n\n  // separar por comas\n  const partes = horario.split(',').map(p => p.trim());\n  for (const parte of partes) {\n    // buscar patrón: \"Día HH:MM-HH:MM\"\n    const match = parte.match(/^(\\w+)\\s+(\\d{1,2}:\\d{2})-(\\d{1,2}:\\d{2})$/i);\n    if (match) {\n      const [, diaStr, horaInicio, horaFin] = match;\n      const dia = diaStr.toLowerCase();\n\n      // verificar que sea un día válido\n      if (diasSemanaMap[dia] !== undefined) {\n        dias.push({\n          dia: diaStr.charAt(0).toUpperCase() + diaStr.slice(1).toLowerCase(),\n          horaInicio,\n          horaFin\n        });\n      }\n    }\n  }\n  return dias;\n};\n\n// obtener número de día de la semana desde nombre en español\nexport const obtenerNumeroDia = diaNombre => {\n  var _diasSemanaMap$dia;\n  const dia = diaNombre.toLowerCase();\n  return (_diasSemanaMap$dia = diasSemanaMap[dia]) !== null && _diasSemanaMap$dia !== void 0 ? _diasSemanaMap$dia : null;\n};\n\n// verificar si una clase tiene clases en un día específico\nexport const tieneClaseEnDia = (horario, diaNumero) => {\n  if (!horario || diaNumero === undefined) return false;\n  const dias = parsearHorario(horario);\n  if (dias.length === 0) return false;\n\n  // obtener nombre del día desde el número\n  const nombreDia = Object.keys(diasSemanaMap).find(key => diasSemanaMap[key] === diaNumero);\n  if (!nombreDia) return false;\n\n  // verificar si alguno de los días parseados coincide\n  return dias.some(d => d.dia.toLowerCase() === nombreDia || d.dia.toLowerCase().replace('á', 'a').replace('é', 'e') === nombreDia);\n};\n\n// obtener días de la semana en que tiene clases\nexport const obtenerDiasConClases = horario => {\n  if (!horario) return [];\n  const dias = parsearHorario(horario);\n  return dias.map(d => obtenerNumeroDia(d.dia)).filter(num => num !== null);\n};\n\n// verificar si tiene clases hoy\nexport const tieneClaseHoy = horario => {\n  const hoy = new Date().getDay();\n  return tieneClaseEnDia(horario, hoy);\n};\n\n// formatear horario para mostrar\nexport const formatearHorario = horario => {\n  if (!horario) return 'Por definir';\n  const dias = parsearHorario(horario);\n  if (dias.length === 0) return horario; // retornar original si no se pudo parsear\n\n  return dias.map(d => `${d.dia} ${d.horaInicio}-${d.horaFin}`).join(', ');\n};\n\n// obtener nombre del día en español desde número\nexport const obtenerNombreDia = diaNumero => {\n  const nombres = {\n    0: 'Domingo',\n    1: 'Lunes',\n    2: 'Martes',\n    3: 'Miércoles',\n    4: 'Jueves',\n    5: 'Viernes',\n    6: 'Sábado'\n  };\n  return nombres[diaNumero] || '';\n};","map":{"version":3,"names":["diasSemanaMap","parsearHorario","horario","trim","dias","partes","split","map","p","parte","match","diaStr","horaInicio","horaFin","dia","toLowerCase","undefined","push","charAt","toUpperCase","slice","obtenerNumeroDia","diaNombre","_diasSemanaMap$dia","tieneClaseEnDia","diaNumero","length","nombreDia","Object","keys","find","key","some","d","replace","obtenerDiasConClases","filter","num","tieneClaseHoy","hoy","Date","getDay","formatearHorario","join","obtenerNombreDia","nombres"],"sources":["C:/Users/diego/OneDrive/Escritorio/ProyectoAPT/CapStone-710V-/Proyecto/src/utils/horarioUtils.ts"],"sourcesContent":["// utilidades para parsear y trabajar con horarios\r\n\r\nexport interface DiaHorario {\r\n  dia: string; // nombre del día en español\r\n  horaInicio: string;\r\n  horaFin: string;\r\n}\r\n\r\n// mapeo de días en español a números de día de la semana (0 = domingo, 1 = lunes, etc.)\r\nconst diasSemanaMap: Record<string, number> = {\r\n  'domingo': 0,\r\n  'lunes': 1,\r\n  'martes': 2,\r\n  'miércoles': 3,\r\n  'miercoles': 3, // sin tilde\r\n  'jueves': 4,\r\n  'viernes': 5,\r\n  'sábado': 6,\r\n  'sabado': 6 // sin tilde\r\n};\r\n\r\n// parsear string de horario a array de días con horarios\r\n// formato: \"Lunes 8:00-9:30, Miércoles 8:00-9:40\"\r\nexport const parsearHorario = (horario?: string | null): DiaHorario[] => {\r\n  if (!horario || !horario.trim()) return [];\r\n\r\n  const dias: DiaHorario[] = [];\r\n  \r\n  // separar por comas\r\n  const partes = horario.split(',').map(p => p.trim());\r\n  \r\n  for (const parte of partes) {\r\n    // buscar patrón: \"Día HH:MM-HH:MM\"\r\n    const match = parte.match(/^(\\w+)\\s+(\\d{1,2}:\\d{2})-(\\d{1,2}:\\d{2})$/i);\r\n    \r\n    if (match) {\r\n      const [, diaStr, horaInicio, horaFin] = match;\r\n      const dia = diaStr.toLowerCase();\r\n      \r\n      // verificar que sea un día válido\r\n      if (diasSemanaMap[dia] !== undefined) {\r\n        dias.push({\r\n          dia: diaStr.charAt(0).toUpperCase() + diaStr.slice(1).toLowerCase(),\r\n          horaInicio,\r\n          horaFin\r\n        });\r\n      }\r\n    }\r\n  }\r\n  \r\n  return dias;\r\n};\r\n\r\n// obtener número de día de la semana desde nombre en español\r\nexport const obtenerNumeroDia = (diaNombre: string): number | null => {\r\n  const dia = diaNombre.toLowerCase();\r\n  return diasSemanaMap[dia] ?? null;\r\n};\r\n\r\n// verificar si una clase tiene clases en un día específico\r\nexport const tieneClaseEnDia = (horario?: string | null, diaNumero?: number): boolean => {\r\n  if (!horario || diaNumero === undefined) return false;\r\n  \r\n  const dias = parsearHorario(horario);\r\n  if (dias.length === 0) return false;\r\n  \r\n  // obtener nombre del día desde el número\r\n  const nombreDia = Object.keys(diasSemanaMap).find(\r\n    key => diasSemanaMap[key] === diaNumero\r\n  );\r\n  \r\n  if (!nombreDia) return false;\r\n  \r\n  // verificar si alguno de los días parseados coincide\r\n  return dias.some(d => \r\n    d.dia.toLowerCase() === nombreDia || \r\n    d.dia.toLowerCase().replace('á', 'a').replace('é', 'e') === nombreDia\r\n  );\r\n};\r\n\r\n// obtener días de la semana en que tiene clases\r\nexport const obtenerDiasConClases = (horario?: string | null): number[] => {\r\n  if (!horario) return [];\r\n  \r\n  const dias = parsearHorario(horario);\r\n  return dias\r\n    .map(d => obtenerNumeroDia(d.dia))\r\n    .filter((num): num is number => num !== null);\r\n};\r\n\r\n// verificar si tiene clases hoy\r\nexport const tieneClaseHoy = (horario?: string | null): boolean => {\r\n  const hoy = new Date().getDay();\r\n  return tieneClaseEnDia(horario, hoy);\r\n};\r\n\r\n// formatear horario para mostrar\r\nexport const formatearHorario = (horario?: string | null): string => {\r\n  if (!horario) return 'Por definir';\r\n  \r\n  const dias = parsearHorario(horario);\r\n  if (dias.length === 0) return horario; // retornar original si no se pudo parsear\r\n  \r\n  return dias\r\n    .map(d => `${d.dia} ${d.horaInicio}-${d.horaFin}`)\r\n    .join(', ');\r\n};\r\n\r\n// obtener nombre del día en español desde número\r\nexport const obtenerNombreDia = (diaNumero: number): string => {\r\n  const nombres: Record<number, string> = {\r\n    0: 'Domingo',\r\n    1: 'Lunes',\r\n    2: 'Martes',\r\n    3: 'Miércoles',\r\n    4: 'Jueves',\r\n    5: 'Viernes',\r\n    6: 'Sábado'\r\n  };\r\n  return nombres[diaNumero] || '';\r\n};\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}